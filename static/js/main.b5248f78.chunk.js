(this.webpackJsonpgithubexplorer=this.webpackJsonpgithubexplorer||[]).push([[0],{26:function(e,t,a){e.exports=a(39)},31:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(23),s=a.n(c),o=(a(31),a(20)),u=a(25),l=a(5),i=a.n(l),p=a(8),m=a(9),h=a(10),d=a(12),f=a(11),v=a(1),b=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var r;return Object(m.a)(this,a),(r=t.call(this,e)).handleUserNameChange=function(e){var t=e.target.value;r.setState({username:t})},r.state={username:e.username||""},r}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.history,t=this.state.username;return n.a.createElement("div",{className:"bg-dark"},n.a.createElement("div",{className:"container py-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-8 offset-2 text-center"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-9"},n.a.createElement("input",{className:"form-control",value:t,onChange:this.handleUserNameChange,type:"text",name:"username",placeholder:"Enter username"})),n.a.createElement("div",{className:"col-3"},n.a.createElement("button",{onClick:function(){return e.push("/".concat(t))},className:"btn btn-large btn-success"},"Search")))))))}}]),a}(n.a.Component),g=Object(v.e)(b),E=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.user;return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},n.a.createElement("img",{src:e.avatar_url,alt:"User Avatar"}),n.a.createElement("h1",null,e.name),n.a.createElement("p",null,e.company),n.a.createElement("p",null,e.bio)))}}]),a}(n.a.Component),w=function(e){var t=e.repo;return n.a.createElement("div",{className:"card mb-4"},n.a.createElement("div",{className:"card-body"},n.a.createElement("a",{href:t.html_url,target:"_blank"},n.a.createElement("h3",null,t.full_name),n.a.createElement("p",null,n.a.createElement("strong",null,"Stars:")," ",t.stargazers_count),n.a.createElement("p",{className:"mb-0"},n.a.createElement("strong",null,"Watchers:")," ",t.watchers_count))))},x=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={user:null,repos:[],userDataError:null,loading:!1,pageSize:10,page:1,fetchingRepos:!1},e.handleScroll=function(){var t=window.scrollY,a=window.scrollMaxY,r=e.state,n=r.page,c=r.pageSize,s=r.user;s&&a-t<=100&&(n-1)*c<s.public_repos&&e.loadPage()},e.fetchUserData=function(){var e=Object(p.a)(i.a.mark((function e(t){var a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/users/".concat(t));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",{data:r});case 8:return e.next=10,a.json();case 10:return n=e.sent.message,e.abrupt("return",{error:n});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.fetchRepos=function(){var t=Object(p.a)(i.a.mark((function t(a){var r,n,c,s,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=r.pageSize,c=r.page,t.next=3,fetch("https://api.github.com/users/".concat(a,"/repos?page=").concat(c,"&per_page=").concat(n));case 3:if(!(s=t.sent).ok){t.next=9;break}return t.next=7,s.json();case 7:return o=t.sent,t.abrupt("return",{data:o});case 9:return t.next=11,s.json();case 11:return u=t.sent.message,t.abrupt("return",{error:u});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchData=function(){var t=Object(p.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0,userDataError:null,reposError:null},Object(p.a)(i.a.mark((function t(){var r,n,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([e.fetchUserData(a),e.fetchRepos(a)]);case 3:if(r=t.sent,n=Object(u.a)(r,2),c=n[0],s=n[1],void 0===c.data||void 0===s.data){t.next=9;break}return t.abrupt("return",e.setState({user:c.data,repos:s.data,page:2,loading:!1}));case 9:e.setState({userDataError:c.error,reposError:s.error,loading:!1}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),e.setState({error:"There was some error",loading:!1});case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadPage=Object(p.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.state.fetchingRepos){t.next=2;break}return t.abrupt("return");case 2:e.setState({fetchingRepos:!0},Object(p.a)(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchRepos(e.state.user.login);case 2:a=t.sent,(r=a.data)&&e.setState((function(e){return{repos:[].concat(Object(o.a)(e.repos),Object(o.a)(r)),page:e.page+1,fetchingRepos:!1}}));case 5:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll);var e=this.props.match;e.params.username&&this.fetchData(e.params.username)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.hanleScroll)}},{key:"render",value:function(){var e=this.state,t=e.userDataError,a=e.reposError,r=e.loading,c=e.user,s=e.repos,o=this.props.match,u=!r&&!a&&!!s.length;return n.a.createElement(n.a.Fragment,null,n.a.createElement(g,{username:o.params.username}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"text-center pt-5"},r&&n.a.createElement("p",null,"Loading..."),t&&n.a.createElement("p",{className:"text-danger"},t)),!r&&!t&&c&&n.a.createElement(E,{user:c}),a&&n.a.createElement("p",{className:"text-danger"},a),u&&n.a.createElement(n.a.Fragment,null,s.map((function(e){return n.a.createElement(w,{key:e.id,repo:e})})))))}}]),a}(n.a.Component),j=Object(v.e)(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(38);var k=a(15);s.a.render(n.a.createElement(k.a,null,n.a.createElement(v.a,{path:"/GithubExplorer-React/:username?",exact:!0,render:function(e){var t=e.match;return n.a.createElement(j,{key:t.params.username})}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.b5248f78.chunk.js.map